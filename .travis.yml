language: rust
cache:
  directories:
  - $HOME/.cargo
  - $TRAVIS_BUILD_DIR/target

matrix:
  include:
  - os: linux
    addons:
      apt:
        packages:
        - pandoc

  - rust: stable
  - rust: beta
  - rust: nightly

  allow_failures:
  - rust: nightly

script:
- cargo build --verbose
- RUST_BACKTRACE=1 cargo test --verbose --all
